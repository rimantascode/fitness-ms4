{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container">
    <div class="row py-3">
        <div class="col-lg-12 col-md-12">
            <div class="container">           
                {% if subscription.status == "active" %}
                    <div class="card rounded-3 border border-2 border-info" style="width: 22rem;">
                        <h5 class="text-center text-mutted my-4">You have subscribed</h5>
                        <div class="card-body text-center">
                            <h5 class="card-title">{{ product.name }}</h5>
                            <p class="card-text">
                                {{ product.description }}
                            </p>
                            <p>
                                <strong class="text-success">Active</strong> until <strong class="text-danger">{{ expire_date }}</strong>
                            </p>
                        </div>
                    </div>
                {% else %}
                <div class="card rounded-3 border border-2 border-secondary" style="width: 22rem;">
                        <div class="card-body text-center">
                            <h5 class="card-title">All Exercises & Nutrition Plans</h5>
                            <p class="card-text">
                                3 Month Subscription
                            </p>
                            <p>
                                <strong class="text-secondary">NOT Active</strong>
                            </p>
                            <button type="submit" class="btn btn-style w-100" id="submitBtn">Subscribe</button>
                        </div>
                    </div>
                {% endif %}
        </div>
    </div>
</div>
{% endblock %}
{% block postloadjs %}
{{ block.super }}
{{ stripe_public_key|json_script:"id_stripe_public_key" }}
{{ client_secret|json_script:"id_client_secret" }}
<script src="{% static 'subscription_plans/js/stripe_elements.js' %} "></script>
{% endblock %}